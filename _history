{"entries":[{"timestamp":1764734860885,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":133,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":187,"length1":44,"diffs":[[1,"        \"assets.json\"\n"]]},{"start1":216,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"weather.ts","value":"\n/**\n* Other weathers:Thunderstorm\n\nHail\n\nBlizzard\n\nSandstorm\n\nCloudy\n\nPartly Cloudy\n*/\n\n\n/**\n * Weather types for the weather extension\n */\n\nenum WeatherType {\n    //% block=\"Rain\"\n    Rain,\n    //% block=\"Fog\"\n    Fog,\n    //% block=\"Heavy Rain\"\n    HeavyRain,\n    //% block=\"Snow\"\n    Snow,\n    //% block=\"Wind\"\n    Wind,\n    //% block=\"Sunny\"\n    Sunny\n    \n}\n\n/**\n * Custom blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n    /**\n     * TODO: describe your function here\n     * @param n describe parameter here, eg: 5\n     * @param s describe parameter here, eg: \"Hello\"\n     * @param e describe parameter here\n     */\n    //% block\n    export function foo(n: number, s: string, e: WeatherType): void {\n        // Add code here\n    }\n\n    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function fib(value: number): number {\n        return value <= 1 ? value : fib(value -1) + fib(value - 2);\n    }\n}\n"}]},{"timestamp":1764735440429,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":250,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block></xml>"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"\n"]]},{"start1":5,"length1":0,"diffs":[[1,"* Other weathers:Thunderstorm\n\nHail\n\nBlizzard\n\nSandstorm\n\nCloudy\n\nPartly Cloudy\n*/\n\n\n/**\n"]]},{"start1":141,"length1":0,"diffs":[[1,"\n"]]},{"start1":161,"length1":21,"diffs":[[1,"    //% block=\"Rain\"\n"]]},{"start1":192,"length1":20,"diffs":[[1,"    //% block=\"Fog\"\n"]]},{"start1":221,"length1":27,"diffs":[[1,"    //% block=\"Heavy Rain\"\n"]]},{"start1":263,"length1":21,"diffs":[[1,"    //% block=\"Snow\"\n"]]},{"start1":294,"length1":21,"diffs":[[1,"    //% block=\"Wind\"\n"]]},{"start1":325,"length1":22,"diffs":[[1,"    //% block=\"Sunny\"\n"]]},{"start1":357,"length1":0,"diffs":[[1,"    \n"]]},{"start1":369,"length1":28,"diffs":[[1," * Custom blocks\n"]]},{"start1":448,"length1":39,"diffs":[[1,""]]},{"start1":456,"length1":43,"diffs":[[1,"     * TODO: describe your function here\n     * @param n describe parameter here, eg: 5\n     * @param s describe parameter here, eg: \"Hello\"\n     * @param e describe parameter here\n"]]},{"start1":645,"length1":388,"diffs":[[1,"    //% block\n    export function foo(n: number, s: string, e: WeatherType): void {\n        // Add code here\n"]]},{"start1":761,"length1":0,"diffs":[[1,"    /**\n     * TODO: describe your function here\n     * @param value describe value here, eg: 5\n     */\n    //% block\n    export function fib(value: number): number {\n        return value <= 1 ? value : fib(value -1) + fib(value - 2);\n    }\n"]]}]}]},{"timestamp":1764735903334,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":133,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Rain</field></block></statement></block></xml>"]]}]}]},{"timestamp":1764773500802,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":238,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1764773500927,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":252,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"10\" y=\"10\"></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":37,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":238,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":581,"length1":538,"diffs":[[1,"                // TODO: rain particles\n"]]},{"start1":679,"length1":531,"diffs":[[1,"                // TODO: snow particles\n"]]},{"start1":839,"length1":287,"diffs":[[1,""]]}]}]},{"timestamp":1764774093002,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":257,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Rain</field></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":42,"diffs":[[1,"Weather.setWeather(WeatherType.Rain)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":80,"length1":82,"diffs":[[1,"        \"device\": \"*\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":1288,"length1":0,"diffs":[[1,"                        . . . \n                        . f . \n"]]},{"start1":1380,"length1":60,"diffs":[[1,""]]},{"start1":1645,"length1":44,"diffs":[[1,"                    flake.lifespan = 2000;\n"]]},{"start1":1767,"length1":48,"diffs":[[1,"                // TODO: clear screen\n"]]},{"start1":1863,"length1":259,"diffs":[[1,"                //TODO: misty/foggy screen\n"]]},{"start1":1969,"length1":788,"diffs":[[1,"                //TODO: rain particles faster than rain and moving diagonally!\n"]]},{"start1":2134,"length1":171,"diffs":[[1,""]]}]}]},{"timestamp":1764774691486,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"weather.ts","patch":[{"start1":2889,"length1":185,"diffs":[[1,"                    bigDrop.x = Math.randomRange(0, scene.screenWidth())\n"]]}]}]},{"timestamp":1764811426516,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"weather.ts","patch":[{"start1":1766,"length1":83,"diffs":[[1,""]]}]}]},{"timestamp":1764811479827,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":252,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.HeavyRain</field></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":37,"diffs":[[1,"Weather.setWeather(WeatherType.HeavyRain)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":298,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":1809,"length1":35,"diffs":[[1,"                    \n"]]},{"start1":1849,"length1":0,"diffs":[[1,"                clearWeather()\n"]]},{"start1":1897,"length1":17,"diffs":[[1,""]]},{"start1":2277,"length1":56,"diffs":[[1,"                game.onUpdateInterval(50, function () {\n"]]},{"start1":3157,"length1":45,"diffs":[[1,""]]}]}]},{"timestamp":1764812717808,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":250,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"38\" y=\"57\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Rain</field></block></statement></block></xml>"]]}]}]},{"timestamp":1764813954435,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":298,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1764813993456,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":249,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Rain</field></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":36,"diffs":[[1,"Weather.setWeather(WeatherType.Rain)\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":1955,"length1":489,"diffs":[[1,"                const fog = sprites.create(image.create(scene.screenWidth(), scene.screenHeight()), SpriteKind.Food);\n                fog.image.fill(8); // light gray\n                fog.setFlag(SpriteFlag.Ghost, true);\n                fog.z = 100; // on top\n"]]}]}]},{"timestamp":1764814594129,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"weather.ts","patch":[{"start1":2328,"length1":79,"diffs":[[1,"                    fog.setPosition(scene.screenHeight(), scene.screenHeight())\n"]]}]}]},{"timestamp":1764814602874,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":2729,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Fog</field></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":856,"diffs":[[1,"Weather.setWeather(WeatherType.Fog)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":270,"length1":71,"diffs":[[1,"        \"weather.ts\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":1498,"length1":70,"diffs":[[1,""]]},{"start1":1955,"length1":47,"diffs":[[1,"                game.onUpdate(function() {\n                    const fog = sprites.create(image.create(scene.screenWidth(), scene.screenHeight()), SpriteKind.Food);\n                    fog.image.fill(8); // light gray\n                    fog.setFlag(SpriteFlag.Ghost, true);\n                    fog.z = 100; // on top\n                    color.setPalette(color.GrayScale)\n\n                    fog.setPosition(scene.screenHeight(), scene.screenWidth())\n                })\n"]]},{"start1":3534,"length1":106,"diffs":[[1,""]]},{"start1":3535,"length1":7,"diffs":[[1,""]]},{"start1":3708,"length1":1,"diffs":[[1,""]]}]},{"type":"added","filename":"tilemap.g.jres","value":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}"},{"type":"added","filename":"tilemap.g.ts","value":"// Auto-generated code. Do not edit.\nnamespace myTiles {\n    //% fixedInstance jres blockIdentity=images._tile\n    export const transparency16 = image.ofBuffer(hex``);\n\n    helpers._registerFactory(\"tilemap\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"level1\":\n            case \"level1\":return tiles.createTilemap(hex`1000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010101010101010101`, img`\n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n. . . . . . . . . . . . . . . . \n2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 \n`, [myTiles.transparency16,sprites.castle.tilePath5], TileScale.Sixteen);\n        }\n        return null;\n    })\n\n    helpers._registerFactory(\"tile\", function(name: string) {\n        switch(helpers.stringTrim(name)) {\n            case \"transparency16\":return transparency16;\n        }\n        return null;\n    })\n\n}\n// Auto-generated code. Do not edit.\n"}]},{"timestamp":1764815188268,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1083,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"W?1S9.=OOq7R%s)_1Aa9\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"#wzUfpL|D`)!J?G[,w,X\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"M%DWY,UI5idhF!]ec^j?\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"#@BS?6`B)Fn-I)3E~kVl\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"3}He6d2+2XY07m_`eQx;\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"40\" y=\"69\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"W?1S9.=OOq7R%s)_1Aa9\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":1611,"length1":1118,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"W?1S9.=OOq7R%s)_1Aa9\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"W?1S9.=OOq7R%s)_1Aa9\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"W?1S9.=OOq7R%s)_1Aa9\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":363,"length1":59,"diffs":[[1,""]]},{"start1":3180,"length1":64,"diffs":[[1,"    //% block=\"set particle of lifespan to %l\"\n"]]},{"start1":3286,"length1":68,"diffs":[[1,"\n"]]}]}]},{"timestamp":1764816125472,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"weather.ts","patch":[{"start1":3239,"length1":50,"diffs":[[1,"    //% block=\"set lifespan of particle to %l\"\n"]]}]}]},{"timestamp":1764816259444,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1349,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"35\" y=\"48\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":1611,"length1":1133,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":49,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":348,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":422,"length1":64,"diffs":[[1,""]]},{"start1":3239,"length1":65,"diffs":[[1,"    //% block=\"set lifespan of particle to %l ||\"\n"]]},{"start1":3306,"length1":374,"diffs":[[1,"    export function setParticleLifeSpan(l: number): void {\n        l = Math.constrain(l, 0, 100)\n        particleLifeSpan = l;\n"]]}]}]},{"timestamp":1764818501997,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1347,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"39\" y=\"52\"><statement name=\"HANDLER\"><block type=\"Weather_setParticleLifeSpan\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><field name=\"w\">WeatherType.Snow</field><value name=\"l\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]}]}]},{"timestamp":1764818874821,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1081,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setParticleLifeSpan\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><field name=\"w\">WeatherType.Snow</field><value name=\"l\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n"]]},{"start1":1875,"length1":1118,"diffs":[[1,"`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"Weather.setParticleLifeSpan(1, WeatherType.Snow)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":348,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":3303,"length1":5,"diffs":[[1,"    //% block=\"set lifespan of particle to %l || for weather %w\"\n    //% l.defl=0\n    export function setParticleLifeSpan(l: number, w?: WeatherType): void {\n        l = Math.constrain(l, 0, 10000); // clamp\n"]]},{"start1":3512,"length1":0,"diffs":[[1,"        if (w === undefined) {\n            // No specific weather → set global lifespan\n            particleLifeSpan = l;\n        } else {\n            // Weather specified → store per-weather lifespan\n            weatherLifeSpan[w] = l;\n        }\n    }\n\n"]]}]}]},{"timestamp":1764819513369,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":348,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]}]},{"timestamp":1764819522551,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":348,"length1":31,"diffs":[[1,"    \"preferredEditor\": \"blocksprj\"\n"]]}]}]},{"timestamp":1764819536063,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":103,"length1":125,"diffs":[[1,"        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n"]]}]}]},{"timestamp":1764820335963,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":103,"length1":59,"diffs":[[1,"        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\",\n        \"Extra Effects\": \"github:alexszeto/extra-effects#v3.1.0\"\n"]]}]}]},{"timestamp":1764820675408,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"weather.ts","patch":[{"start1":269,"length1":172,"diffs":[[1,""]]},{"start1":3303,"length1":298,"diffs":[[1,""]]},{"start1":3308,"length1":3,"diffs":[[1,""]]}]}]},{"timestamp":1764821274243,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":3809,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . f f f f . . . . . . \n. . . . f f f 2 2 f f f . . . . \n. . . f f f 2 2 2 2 f f f . . . \n. . f f f e e e e e e f f f . . \n. . f f e 2 2 2 2 2 2 e e f . . \n. . f e 2 f f f f f f 2 e f . . \n. . f f f f e e e e f f f f . . \n. f f e f b f 4 4 f b f e f f . \n. f e e 4 1 f d d f 1 4 e e f . \n. . f e e d d d d d d e e f . . \n. . . f e e 4 4 4 4 e e f . . . \n. . e 4 f 2 2 2 2 2 2 f 4 e . . \n. . 4 d f 2 2 2 2 2 2 f d 4 . . \n. . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n. . . . . f f f f f f . . . . . \n. . . . . f f . . f f . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"Weather.setWeather(WeatherType.Snow)\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . f f f f . . . . . . \n    . . . . f f f 2 2 f f f . . . . \n    . . . f f f 2 2 2 2 f f f . . . \n    . . f f f e e e e e e f f f . . \n    . . f f e 2 2 2 2 2 2 e e f . . \n    . . f e 2 f f f f f f 2 e f . . \n    . . f f f f e e e e f f f f . . \n    . f f e f b f 4 4 f b f e f f . \n    . f e e 4 1 f d d f 1 4 e e f . \n    . . f e e d d d d d d e e f . . \n    . . . f e e 4 4 4 4 e e f . . . \n    . . e 4 f 2 2 2 2 2 2 f 4 e . . \n    . . 4 d f 2 2 2 2 2 2 f d 4 . . \n    . . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n    . . . . . f f f f f f . . . . . \n    . . . . . f f . . f f . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\ntiles.placeOnTile(mySprite, tiles.getTileLocation(0, 14))\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":0,"length1":2727,"diffs":[[1,"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\nenum WeatherCombination {\n    //% block=\"Rain and Wind\"\n    RainWind,\n    //% block=\"Heavy Rain and Wind\"\n    Heavy_RainWind,\n    //% block=\"Snow and Wind\"\n    SnowWind\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n    let particleLifeSpan = 1000; // default lifespan in ms\n    let weatherLifeSpan: number[] = []; // per-weather lifespan\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 0;\n\n                    drop.lifespan = 1000;\n                });\n                \n                break;\n            case WeatherType.Snow:\n                game.onUpdateInterval(200, function () {\n                    const flake = sprites.create(img`\n                        . . .\n                        . 1 .\n                        . . .\n                    `, SpriteKind.Projectile);\n\n                    flake.x = Math.randomRange(0, scene.screenWidth());\n\n                    flake.setFlag(SpriteFlag.RelativeToCamera, true)\n                    flake.y = 0;\n                    flake.vy = 20;    // slow falling\n                    flake.vx = Math.randomRange(-10, 10);\n                    flake.lifespan = 10000;\n                });\n                break;\n            case WeatherType.Sunny:\n                game.onUpdate(function() {\n                    clearWeather()\n                })\n                \n                \n                break;\n            case  WeatherType.Fog:\n            \n                    \n            \n                \n                break;\n            case WeatherType.HeavyRain:\n                game.onUpdateInterval(25, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 70;\n\n                    drop.lifespan = 1000;\n                    const bigDrop = sprites.create(img`\n                        . 8 .\n                        . 8 .\n                        . 8 .\n                    `,SpriteKind.Projectile);\n\n                    bigDrop.x = Math.randomRange(0, scene.screenWidth());\n                    bigDrop.y = 0;\n\n                    bigDrop.vy = 120;\n                    bigDrop.vx = 50;\n                    bigDrop.lifespan = 1000;\n                });\n                break;\n            default:\n                break;\n        }\n    }\n   //% block=\"Set weather combination to %wc\"\n    //% w.fieldEditor=\"dropdown\" w.fieldOptions.items=\"Rain and Wind, Heavy Rain and wind, or Snow and Wind\"\n    /**\n      * Perform a weather combination if block is true\n    */\n    export function WeatherCombination(w: WeatherCombination): boolean {\n    \n} \n\n}\nfunction clearWeather() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile);\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food);\n     // wipes screen effects\n}\n\n"]]}]}]},{"timestamp":1764821868057,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":674,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"namespace weather {\" line1=\"    export enum WeatherType {\" line2=\"        //% block=&quot;rain&quot;\" line3=\"        Rain,\" line4=\"        //% block=&quot;heavy rain&quot;\" line5=\"        HeavyRain,\" line6=\"        //% block=&quot;snow&quot;\" line7=\"        Snow,\" line8=\"        //% block=&quot;wind&quot;\" line9=\"        Wind\" line10=\"    }\" line11=\"\" line12=\"    /**\" line13=\"     * Set the current weather effect\" line14=\"     */\" line15=\"    //% block=&quot;set weather to %type&quot;\" line16=\"    //% weight=100\" line17=\"    export function setWeather(type: WeatherType): void {\" line18=\"        switch (type) {\" line19=\"            case WeatherType.Rain:\" line20=\"                createRain();\" line21=\"                break;\" line22=\"            case WeatherType.HeavyRain:\" line23=\"                createHeavyRain();\" line24=\"                break;\" line25=\"            case WeatherType.Snow:\" line26=\"                createSnow();\" line27=\"                break;\" line28=\"            case WeatherType.Wind:\" line29=\"                createWind();\" line30=\"                break;\" line31=\"        }\" line32=\"    }\" line33=\"\" line34=\"    function createRain() {\" line35=\"        game.onUpdate(function () {\" line36=\"            let raindrop = sprites.create(img`\" line37=\"                . . 2 . .\" line38=\"                . 2 2 2 .\" line39=\"                2 2 2 2 2\" line40=\"                . 2 2 2 .\" line41=\"                . . 2 . .\" line42=\"            `, SpriteKind.Food)\" line43=\"            raindrop.setVelocity(0, 50)\" line44=\"            raindrop.setPosition(Math.randomRange(0, screen.width), 0)\" line45=\"            raindrop.lifespan = 2000\" line46=\"        })\" line47=\"    }\" line48=\"\" line49=\"    function createHeavyRain() {\" line50=\"        game.onUpdate(function () {\" line51=\"            for (let i = 0; i &lt; 3; i++) {\" line52=\"                let raindrop2 = sprites.create(img`\" line53=\"                    . . 2 . .\" line54=\"                    . 2 2 2 .\" line55=\"                    2 2 2 2 2\" line56=\"                    . 2 2 2 .\" line57=\"                    . . 2 . .\" line58=\"                `, SpriteKind.Food)\" line59=\"                raindrop2.setVelocity(0, 100)\" line60=\"                raindrop2.setPosition(Math.randomRange(0, screen.width), 0)\" line61=\"                raindrop2.lifespan = 2000\" line62=\"            }\" line63=\"        })\" line64=\"    }\" line65=\"\" line66=\"    function createSnow() {\" line67=\"        game.onUpdate(function () {\" line68=\"            let snowflake = sprites.create(img`\" line69=\"                . 5 . \" line70=\"                5 5 5\" line71=\"                . 5 .\" line72=\"            `, SpriteKind.Player)\" line73=\"            snowflake.setVelocity(0, 20)\" line74=\"            snowflake.setPosition(Math.randomRange(0, screen.width), 0)\" line75=\"            snowflake.lifespan = 3000\" line76=\"        })\" line77=\"    }\" line78=\"\" line79=\"    function createWind() {\" line80=\"        game.onUpdate(function () {\" line81=\"            for (let j = 0; j &lt; 2; j++) {\" line82=\"                let gust = sprites.create(img`\" line83=\"                    . 4 . \" line84=\"                    4 4 4\" line85=\"                    . 4 .\" line86=\"                `, SpriteKind.Food)\" line87=\"                gust.setVelocity(Math.randomRange(-50, 50), 0)\" line88=\"                gust.setPosition(0, Math.randomRange(0, screen.height))\" line89=\"                gust.lifespan = 2000\" line90=\"            }\" line91=\"        })\" line92=\"    }\" line93=\"}\" numlines=\"94\"></mutation></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":45,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":80,"length1":22,"diffs":[[1,"        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n"]]},{"start1":348,"length1":35,"diffs":[[1,"    \"preferredEditor\": \"tsprj\"\n"]]}]},{"type":"edited","filename":"weather.ts","patch":[{"start1":0,"length1":32,"diffs":[[1,""]]},{"start1":857,"length1":325,"diffs":[[1,"        game.onUpdate(function () {\r\n            let raindrop = sprites.create(img`\r\n                . . 2 . .\r\n                . 2 2 2 .\r\n                2 2 2 2 2\r\n                . 2 2 2 .\r\n                . . 2 . .\r\n            `, SpriteKind.Food)\r\n            raindrop.setVelocity(0, 50)\r\n            raindrop.setPosition(Math.randomRange(0, screen.width), 0)\r\n            raindrop.lifespan = 2000\r\n        })\r\n"]]},{"start1":1280,"length1":6,"diffs":[[1,""]]},{"start1":1316,"length1":49,"diffs":[[1,"        game.onUpdate(function () {\r\n"]]},{"start1":1449,"length1":81,"diffs":[[1,"                    . . 2 . .\r\n                    . 2 2 2 .\r\n                    2 2 2 2 2\r\n                    . 2 2 2 .\r\n                    . . 2 . .\r\n"]]},{"start1":1808,"length1":333,"diffs":[[1,""]]},{"start1":1873,"length1":50,"diffs":[[1,"        game.onUpdate(function () {\r\n"]]},{"start1":1959,"length1":19,"diffs":[[1,"                . 5 . \r\n                5 5 5\r\n                . 5 .\r\n"]]},{"start1":2179,"length1":40,"diffs":[[1,"            snowflake.lifespan = 3000\r\n"]]},{"start1":2268,"length1":50,"diffs":[[1,"        game.onUpdate(function () {\r\n"]]},{"start1":2396,"length1":155,"diffs":[[1,"                    . 4 . \r\n                    4 4 4\r\n                    . 4 .\r\n"]]},{"start1":2515,"length1":41,"diffs":[[1,"                gust.setVelocity(Math.randomRange(-50, 50), 0)\r\n"]]},{"start1":2652,"length1":38,"diffs":[[1,"                gust.lifespan = 2000\r\n"]]}]}]},{"timestamp":1764822471734,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":45,"length1":11,"diffs":[[1,""]]}]}]},{"timestamp":1764822477645,"editorVersion":"2.0.62","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":4709,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"KIND_SpriteKind\" id=\"}NI}lC}I-ALcG%TMS0ce\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Ub/D9hZjrL)`%PA(C?#b\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\"}AfG:[_{%iV9TjHvBA@r\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"+RJcSK(9CzseqoB0k3AE\">Enemy</variable><variable id=\"YfmuL^eV`@J`5B{zoRH/\">list</variable><variable id=\"rE}txf9$vw7yf9*0!hDD\">mySprite</variable></variables><block type=\"pxt-on-start\" x=\"39\" y=\"53\"><statement name=\"HANDLER\"><block type=\"weather_setWeather\"><field name=\"type\">weather.WeatherType.Rain</field></block></statement></block></xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":442,"diffs":[[1,"weather.setWeather(weather.WeatherType.Rain)\npause(100)\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":288,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1764734860884,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>","main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1764773500802,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Rain</field></block></statement></block></xml>","main.ts":"\n","README.md":" ","assets.json":"","weather.ts":"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                // TODO: rain particles\n                break;\n            case WeatherType.Snow:\n                // TODO: snow particles\n                break;\n            case WeatherType.Sunny:\n                // TODO: clear screen\n                break;\n        }\n    }\n\n}\n","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764811400348,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.HeavyRain</field></block></statement></block></xml>","main.ts":"Weather.setWeather(WeatherType.HeavyRain)\n","README.md":" ","assets.json":"","weather.ts":"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 0;\n\n                    drop.lifespan = 1000;\n                });\n                \n                break;\n            case WeatherType.Snow:\n                game.onUpdateInterval(200, function () {\n                    const flake = sprites.create(img`\n                        . . .\n                        . 1 .\n                        . . .\n                    `, SpriteKind.Projectile);\n\n                    flake.x = Math.randomRange(0, scene.screenWidth());\n                    flake.y = 0;\n                    flake.vy = 20;    // slow falling\n                    flake.vx = Math.randomRange(-10, 10);\n                    flake.lifespan = 10000;\n                });\n                break;\n            case WeatherType.Sunny:\n                clearWeather()\n                \n                break;\n            case  WeatherType.Fog:\n                const fog = sprites.create(image.create(scene.screenWidth(), scene.screenHeight()), SpriteKind.Food);\n                fog.image.fill(8); // light gray\n                fog.setFlag(SpriteFlag.Ghost, true);\n                fog.z = 100; // on top\n                break;\n            case WeatherType.HeavyRain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 70;\n\n                    drop.lifespan = 1000;\n                    const bigDrop = sprites.create(img`\n                        . 8 .\n                        . 8 .\n                        . 8 .\n                    `,SpriteKind.Projectile);\n\n                    bigDrop.x = Math.randomRange(0, scene.screenWidth());\n                    bigDrop.y = 0;\n\n                    bigDrop.vy = 120;\n                    bigDrop.vx = 50;\n                });\n                break;\n            default:\n                break;\n        }\n    }\n\n}\nfunction clearWeather() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile);\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food);\n     // wipes screen effects\n}\n","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764813954435,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"38\" y=\"57\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Rain</field></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","weather.ts":"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 0;\n\n                    drop.lifespan = 1000;\n                });\n                \n                break;\n            case WeatherType.Snow:\n                game.onUpdateInterval(200, function () {\n                    const flake = sprites.create(img`\n                        . . .\n                        . 1 .\n                        . . .\n                    `, SpriteKind.Projectile);\n\n                    flake.x = Math.randomRange(0, scene.screenWidth());\n                    flake.y = 0;\n                    flake.vy = 20;    // slow falling\n                    flake.vx = Math.randomRange(-10, 10);\n                    flake.lifespan = 10000;\n                });\n                break;\n            case WeatherType.Sunny:\n                game.onUpdate(function() {\n                    clearWeather()\n                })\n                \n                \n                break;\n            case  WeatherType.Fog:\n                const fog = sprites.create(image.create(scene.screenWidth(), scene.screenHeight()), SpriteKind.Food);\n                fog.image.fill(8); // light gray\n                fog.setFlag(SpriteFlag.Ghost, true);\n                fog.z = 100; // on top\n                break;\n            case WeatherType.HeavyRain:\n                game.onUpdateInterval(25, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 70;\n\n                    drop.lifespan = 1000;\n                    const bigDrop = sprites.create(img`\n                        . 8 .\n                        . 8 .\n                        . 8 .\n                    `,SpriteKind.Projectile);\n\n                    bigDrop.x = Math.randomRange(0, scene.screenWidth());\n                    bigDrop.y = 0;\n\n                    bigDrop.vy = 120;\n                    bigDrop.vx = 50;\n                    bigDrop.lifespan = 1000;\n                });\n                break;\n            default:\n                break;\n        }\n    }\n\n}\nfunction clearWeather() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile);\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food);\n     // wipes screen effects\n}\n","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1764816125472,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"35\" y=\"48\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . f f f f . . . . . . \n. . . . f f f 2 2 f f f . . . . \n. . . f f f 2 2 2 2 f f f . . . \n. . f f f e e e e e e f f f . . \n. . f f e 2 2 2 2 2 2 e e f . . \n. . f e 2 f f f f f f 2 e f . . \n. . f f f f e e e e f f f f . . \n. f f e f b f 4 4 f b f e f f . \n. f e e 4 1 f d d f 1 4 e e f . \n. . f e e d d d d d d e e f . . \n. . . f e e 4 4 4 4 e e f . . . \n. . e 4 f 2 2 2 2 2 2 f 4 e . . \n. . 4 d f 2 2 2 2 2 2 f d 4 . . \n. . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n. . . . . f f f f f f . . . . . \n. . . . . f f . . f f . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"Weather.setWeather(WeatherType.Snow)\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . f f f f . . . . . . \n    . . . . f f f 2 2 f f f . . . . \n    . . . f f f 2 2 2 2 f f f . . . \n    . . f f f e e e e e e f f f . . \n    . . f f e 2 2 2 2 2 2 e e f . . \n    . . f e 2 f f f f f f 2 e f . . \n    . . f f f f e e e e f f f f . . \n    . f f e f b f 4 4 f b f e f f . \n    . f e e 4 1 f d d f 1 4 e e f . \n    . . f e e d d d d d d e e f . . \n    . . . f e e 4 4 4 4 e e f . . . \n    . . e 4 f 2 2 2 2 2 2 f 4 e . . \n    . . 4 d f 2 2 2 2 2 2 f d 4 . . \n    . . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n    . . . . . f f f f f f . . . . . \n    . . . . . f f . . f f . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\ntiles.placeOnTile(mySprite, tiles.getTileLocation(0, 14))\n","README.md":" ","assets.json":"","weather.ts":"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n    let particleLifeSpan = 1000; // default lifespan in ms\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 0;\n\n                    drop.lifespan = 1000;\n                });\n                \n                break;\n            case WeatherType.Snow:\n                game.onUpdateInterval(200, function () {\n                    const flake = sprites.create(img`\n                        . . .\n                        . 1 .\n                        . . .\n                    `, SpriteKind.Projectile);\n\n                    flake.x = Math.randomRange(0, scene.screenWidth());\n\n                    flake.setFlag(SpriteFlag.RelativeToCamera, true)\n                    flake.y = 0;\n                    flake.vy = 20;    // slow falling\n                    flake.vx = Math.randomRange(-10, 10);\n                    flake.lifespan = 10000;\n                });\n                break;\n            case WeatherType.Sunny:\n                game.onUpdate(function() {\n                    clearWeather()\n                })\n                \n                \n                break;\n            case  WeatherType.Fog:\n            \n                    \n            \n                \n                break;\n            case WeatherType.HeavyRain:\n                game.onUpdateInterval(25, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 70;\n\n                    drop.lifespan = 1000;\n                    const bigDrop = sprites.create(img`\n                        . 8 .\n                        . 8 .\n                        . 8 .\n                    `,SpriteKind.Projectile);\n\n                    bigDrop.x = Math.randomRange(0, scene.screenWidth());\n                    bigDrop.y = 0;\n\n                    bigDrop.vy = 120;\n                    bigDrop.vx = 50;\n                    bigDrop.lifespan = 1000;\n                });\n                break;\n            default:\n                break;\n        }\n    }\n    //% block=\"set lifespan of particle to %l\"\n    //% l.defl=0\n    export function setParticleLifeSpan(l: number): void {\n        l = Math.constrain(l, 0, 100)\n        particleLifeSpan = l;\n    }\n\n}\nfunction clearWeather() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile);\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food);\n     // wipes screen effects\n}\n\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764818412813,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"39\" y=\"52\"><statement name=\"HANDLER\"><block type=\"Weather_setParticleLifeSpan\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"1\" _input_init=\"true\"></mutation><field name=\"w\">WeatherType.Snow</field><value name=\"l\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . f f f f . . . . . . \n. . . . f f f 2 2 f f f . . . . \n. . . f f f 2 2 2 2 f f f . . . \n. . f f f e e e e e e f f f . . \n. . f f e 2 2 2 2 2 2 e e f . . \n. . f e 2 f f f f f f 2 e f . . \n. . f f f f e e e e f f f f . . \n. f f e f b f 4 4 f b f e f f . \n. f e e 4 1 f d d f 1 4 e e f . \n. . f e e d d d d d d e e f . . \n. . . f e e 4 4 4 4 e e f . . . \n. . e 4 f 2 2 2 2 2 2 f 4 e . . \n. . 4 d f 2 2 2 2 2 2 f d 4 . . \n. . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n. . . . . f f f f f f . . . . . \n. . . . . f f . . f f . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":" ","assets.json":"","weather.ts":"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n    let particleLifeSpan = 1000; // default lifespan in ms\n    let weatherLifeSpan: number[] = []; // per-weather lifespan\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 0;\n\n                    drop.lifespan = 1000;\n                });\n                \n                break;\n            case WeatherType.Snow:\n                game.onUpdateInterval(200, function () {\n                    const flake = sprites.create(img`\n                        . . .\n                        . 1 .\n                        . . .\n                    `, SpriteKind.Projectile);\n\n                    flake.x = Math.randomRange(0, scene.screenWidth());\n\n                    flake.setFlag(SpriteFlag.RelativeToCamera, true)\n                    flake.y = 0;\n                    flake.vy = 20;    // slow falling\n                    flake.vx = Math.randomRange(-10, 10);\n                    flake.lifespan = 10000;\n                });\n                break;\n            case WeatherType.Sunny:\n                game.onUpdate(function() {\n                    clearWeather()\n                })\n                \n                \n                break;\n            case  WeatherType.Fog:\n            \n                    \n            \n                \n                break;\n            case WeatherType.HeavyRain:\n                game.onUpdateInterval(25, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 70;\n\n                    drop.lifespan = 1000;\n                    const bigDrop = sprites.create(img`\n                        . 8 .\n                        . 8 .\n                        . 8 .\n                    `,SpriteKind.Projectile);\n\n                    bigDrop.x = Math.randomRange(0, scene.screenWidth());\n                    bigDrop.y = 0;\n\n                    bigDrop.vy = 120;\n                    bigDrop.vx = 50;\n                    bigDrop.lifespan = 1000;\n                });\n                break;\n            default:\n                break;\n        }\n    }\n    //% block=\"set lifespan of particle to %l || for weather %w\"\n    //% l.defl=0\n    export function setParticleLifeSpan(l: number, w?: WeatherType): void {\n        l = Math.constrain(l, 0, 10000); // clamp\n\n        if (w === undefined) {\n            // No specific weather → set global lifespan\n            particleLifeSpan = l;\n        } else {\n            // Weather specified → store per-weather lifespan\n            weatherLifeSpan[w] = l;\n        }\n    }\n\n}\nfunction clearWeather() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile);\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food);\n     // wipes screen effects\n}\n\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1764820235939,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</variable><variable type=\"KIND_SpriteKind\" id=\"QFDPUhEp?ko0B0y,.6JZ\">Player</variable><variable type=\"KIND_SpriteKind\" id=\"Bg*_HoPa6omN3kv,69c_\">Projectile</variable><variable type=\"KIND_SpriteKind\" id=\":%KY:)ch=;nR!gsm5_=?\">Food</variable><variable type=\"KIND_SpriteKind\" id=\"ME/}CNSgh)]_=MO]d[5m\">Enemy</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"Weather_setWeather\"><field name=\"w\">WeatherType.Snow</field><next><block type=\"set_current_tilemap\"><value name=\"tilemap\"><shadow type=\"tiles_tilemap_editor\"><field name=\"tilemap\">tilemap`level1`</field><data>{\"commentRefs\":[],\"fieldData\":{\"tilemap\":\"level1\"}}</data></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"spritescreate\"><value name=\"img\"><shadow type=\"screen_image_picker\"><field name=\"img\">img`\n. . . . . . f f f f . . . . . . \n. . . . f f f 2 2 f f f . . . . \n. . . f f f 2 2 2 2 f f f . . . \n. . f f f e e e e e e f f f . . \n. . f f e 2 2 2 2 2 2 e e f . . \n. . f e 2 f f f f f f 2 e f . . \n. . f f f f e e e e f f f f . . \n. f f e f b f 4 4 f b f e f f . \n. f e e 4 1 f d d f 1 4 e e f . \n. . f e e d d d d d d e e f . . \n. . . f e e 4 4 4 4 e e f . . . \n. . e 4 f 2 2 2 2 2 2 f 4 e . . \n. . 4 d f 2 2 2 2 2 2 f d 4 . . \n. . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n. . . . . f f f f f f . . . . . \n. . . . . f f . . f f . . . . . \n`</field><data>{\"commentRefs\":[],\"fieldData\":{\"img\":null}}</data></shadow></value><value name=\"kind\"><shadow type=\"spritekind\"><field name=\"MEMBER\">Player</field></shadow></value></block></value><next><block type=\"game_control_sprite\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"camerafollow\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><next><block type=\"mapplaceontile\"><value name=\"sprite\"><block type=\"variables_get\"><field name=\"VAR\" id=\"U3*j`NfmrlB-HZ6L9)H8\">mySprite</field></block></value><value name=\"loc\"><shadow type=\"mapgettile\"><value name=\"col\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"row\"><shadow type=\"math_number\"><field name=\"NUM\">14</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"Weather.setWeather(WeatherType.Snow)\ntiles.setCurrentTilemap(tilemap`level1`)\nlet mySprite = sprites.create(img`\n    . . . . . . f f f f . . . . . . \n    . . . . f f f 2 2 f f f . . . . \n    . . . f f f 2 2 2 2 f f f . . . \n    . . f f f e e e e e e f f f . . \n    . . f f e 2 2 2 2 2 2 e e f . . \n    . . f e 2 f f f f f f 2 e f . . \n    . . f f f f e e e e f f f f . . \n    . f f e f b f 4 4 f b f e f f . \n    . f e e 4 1 f d d f 1 4 e e f . \n    . . f e e d d d d d d e e f . . \n    . . . f e e 4 4 4 4 e e f . . . \n    . . e 4 f 2 2 2 2 2 2 f 4 e . . \n    . . 4 d f 2 2 2 2 2 2 f d 4 . . \n    . . 4 4 f 4 4 5 5 4 4 f 4 4 . . \n    . . . . . f f f f f f . . . . . \n    . . . . . f f . . f f . . . . . \n    `, SpriteKind.Player)\ncontroller.moveSprite(mySprite)\nscene.cameraFollowSprite(mySprite)\ntiles.placeOnTile(mySprite, tiles.getTileLocation(0, 14))\n","README.md":" ","assets.json":"","weather.ts":"/**\n * Weather types for the weather extension\n */\nenum WeatherType {\n    //% block=\"rain\"\n    Rain,\n    //% block=\"fog\"\n    Fog,\n    //% block=\"heavy rain\"\n    HeavyRain,\n    //% block=\"snow\"\n    Snow,\n    //% block=\"wind\"\n    Wind,\n    //% block=\"sunny\"\n    Sunny\n}\n\n/**\n * Weather extension blocks\n */\n//% weight=100 color=#D6BA00 icon=\"☀\"\nnamespace Weather {\n    let particleLifeSpan = 1000; // default lifespan in ms\n    let weatherLifeSpan: number[] = []; // per-weather lifespan\n\n   \n    //% block=\"set weather to %w\"\n    /**\n     * Start effects based on weather type\n     */\n    export function setWeather(w: WeatherType): void {\n        \n        switch (w) {\n            case WeatherType.Rain:\n                game.onUpdateInterval(50, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 0;\n\n                    drop.lifespan = 1000;\n                });\n                \n                break;\n            case WeatherType.Snow:\n                game.onUpdateInterval(200, function () {\n                    const flake = sprites.create(img`\n                        . . .\n                        . 1 .\n                        . . .\n                    `, SpriteKind.Projectile);\n\n                    flake.x = Math.randomRange(0, scene.screenWidth());\n\n                    flake.setFlag(SpriteFlag.RelativeToCamera, true)\n                    flake.y = 0;\n                    flake.vy = 20;    // slow falling\n                    flake.vx = Math.randomRange(-10, 10);\n                    flake.lifespan = 10000;\n                });\n                break;\n            case WeatherType.Sunny:\n                game.onUpdate(function() {\n                    clearWeather()\n                })\n                \n                \n                break;\n            case  WeatherType.Fog:\n            \n                    \n            \n                \n                break;\n            case WeatherType.HeavyRain:\n                game.onUpdateInterval(25, function () {\n                    const drop = sprites.create(img`\n                        . 9 .\n                        . 9 .\n                        . 6 .\n                    `, SpriteKind.Projectile);\n\n                    drop.x = Math.randomRange(0, scene.screenWidth());\n                    drop.y = 0;\n\n                    // diagonal + fast\n                    drop.vy = 120;\n                    drop.vx = 70;\n\n                    drop.lifespan = 1000;\n                    const bigDrop = sprites.create(img`\n                        . 8 .\n                        . 8 .\n                        . 8 .\n                    `,SpriteKind.Projectile);\n\n                    bigDrop.x = Math.randomRange(0, scene.screenWidth());\n                    bigDrop.y = 0;\n\n                    bigDrop.vy = 120;\n                    bigDrop.vx = 50;\n                    bigDrop.lifespan = 1000;\n                });\n                break;\n            default:\n                break;\n        }\n    }\n    \n\n}\nfunction clearWeather() {\n    sprites.destroyAllSpritesOfKind(SpriteKind.Projectile);\n    sprites.destroyAllSpritesOfKind(SpriteKind.Food);\n     // wipes screen effects\n}\n\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}},{"timestamp":1764822037445,"editorVersion":"2.0.62","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"weather_setWeather\"><field name=\"type\">weather.WeatherType.Rain</field></block></statement></block></xml>","main.ts":"weather.setWeather(weather.WeatherType.Rain)\n","README.md":" ","assets.json":"","weather.ts":"//% icon=\"🌤\"\r\n\r\n\r\nnamespace weather {\r\n    export enum WeatherType {\r\n        //% block=\"rain\"\r\n        Rain,\r\n        //% block=\"heavy rain\"\r\n        HeavyRain,\r\n        //% block=\"snow\"\r\n        Snow,\r\n        //% block=\"wind\"\r\n        Wind\r\n    }\r\n\r\n    /**\r\n     * Set the current weather effect\r\n     */\r\n    //% block=\"set weather to %type\"\r\n    //% weight=100\r\n    export function setWeather(type: WeatherType): void {\r\n        switch (type) {\r\n            case WeatherType.Rain:\r\n                createRain();\r\n                break;\r\n            case WeatherType.HeavyRain:\r\n                createHeavyRain();\r\n                break;\r\n            case WeatherType.Snow:\r\n                createSnow();\r\n                break;\r\n            case WeatherType.Wind:\r\n                createWind();\r\n                break;\r\n        }\r\n    }\r\n\r\n    function createRain() {\r\n        game.onUpdateInterval(50, function() {\r\n        let raindrop = sprites.create(img`\r\n            . . 9\r\n            . . 9\r\n            . . 9\r\n        `, SpriteKind.Food)\r\n        raindrop.setVelocity(0, 50)\r\n        raindrop.setPosition(Math.randomRange(0, screen.width), 0)\r\n        raindrop.lifespan = 2000\r\n    })\r\n    }\r\n    \r\n\r\n    function createHeavyRain() {\r\n        game.onUpdateInterval(50, function () {\r\n            for (let i = 0; i < 3; i++) {\r\n                let raindrop2 = sprites.create(img`\r\n                    . 8 .\r\n                    . 8 .\r\n                    . 8 .\r\n                `, SpriteKind.Food)\r\n                raindrop2.setVelocity(0, 100)\r\n                raindrop2.setPosition(Math.randomRange(0, screen.width), 0)\r\n                raindrop2.lifespan = 2000\r\n            }\r\n        })\r\n    }\r\n\r\n    function createSnow() {\r\n        game.onUpdate(function () {\r\n            let snowflake = sprites.create(img`\r\n                . 5 . \r\n                5 5 5\r\n                . 5 .\r\n            `, SpriteKind.Player)\r\n            snowflake.setVelocity(0, 20)\r\n            snowflake.setPosition(Math.randomRange(0, screen.width), 0)\r\n            snowflake.lifespan = 3000\r\n        })\r\n    }\r\n\r\n    function createWind() {\r\n        game.onUpdate(function () {\r\n            for (let j = 0; j < 2; j++) {\r\n                let gust = sprites.create(img`\r\n                    . 4 . \r\n                    4 4 4\r\n                    . 4 .\r\n                `, SpriteKind.Food)\r\n                gust.setVelocity(Math.randomRange(-50, 50), 0)\r\n                gust.setPosition(0, Math.randomRange(0, screen.height))\r\n                gust.lifespan = 2000\r\n            }\r\n        })\r\n    }\r\n}\r\n","tilemap.g.jres":"{\n    \"transparency16\": {\n        \"data\": \"hwQQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\",\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"tilemapTile\": true\n    },\n    \"level1\": {\n        \"id\": \"level1\",\n        \"mimeType\": \"application/mkcd-tilemap\",\n        \"data\": \"MTAxMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjIyMjIyMjIyMjIyMjIyMg==\",\n        \"tileset\": [\n            \"myTiles.transparency16\",\n            \"sprites.castle.tilePath5\"\n        ],\n        \"displayName\": \"level1\"\n    },\n    \"*\": {\n        \"mimeType\": \"image/x-mkcd-f4\",\n        \"dataEncoding\": \"base64\",\n        \"namespace\": \"myTiles\"\n    }\n}","tilemap.g.ts":"","pxt.json":"{\n    \"name\": \"weather extension\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\",\n        \"Color Fading\": \"github:jwunderl/pxt-color#v0.2.3\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\",\n        \"weather.ts\",\n        \"tilemap.g.jres\",\n        \"tilemap.g.ts\"\n    ],\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1764822709555}